"use strict";(self.webpackChunkgostore=self.webpackChunkgostore||[]).push([[911],{911:(mt,C,r)=>{r.r(C),r.d(C,{PageProductComponent:()=>_t});var t=r(7705),d=r(1780),g=r(177),s=r(4341),E=r(345),m=r(8141),P=r(6697),M=r(980),l=r(3190),_=r(513),O=r(5154),b=r(7002),z=r(324),p=r(8927),u=r(1011),v=r(7094),h=r(5597),j=r(3448),x=r(7529),F=r(6389),R=r(5930);function k(e,i){if(1&e&&(t.j41(0,"li")(1,"div",37)(2,"div",38),t.nrm(3,"span"),t.k0s()(),t.j41(4,"div",39),t.nrm(5,"div"),t.k0s(),t.j41(6,"p",40),t.EFF(7),t.k0s()()),2&e){const n=i.$implicit,o=t.XpG(2);t.R7$(3),t.xc7("width",o.noteWidth(n)),t.R7$(2),t.xc7("width",o.noteProgress(n)),t.R7$(2),t.JRh(o.noteRate(n))}}function S(e,i){1&e&&(t.j41(0,"p",50),t.EFF(1," Votre avis est en attente d'approbation "),t.k0s())}function $(e,i){if(1&e&&(t.j41(0,"li")(1,"div",41),t.nrm(2,"img",42),t.k0s(),t.j41(3,"div",43)(4,"div",44)(5,"div",45)(6,"div",38),t.nrm(7,"span"),t.k0s()(),t.j41(8,"p",46),t.EFF(9),t.k0s(),t.j41(10,"p",47),t.EFF(11),t.nI1(12,"date"),t.k0s()(),t.j41(13,"p",48),t.EFF(14),t.k0s(),t.DNE(15,S,2,0,"p",49),t.k0s()()),2&e){const n=i.$implicit;t.R7$(2),t.Y8G("src",n.image,t.B4B)("alt",n.username),t.R7$(5),t.xc7("width",n.rateWidth()),t.R7$(2),t.JRh(n.username),t.R7$(2),t.SpI(" - ",t.i5U(12,8,n.cdate,"dd MMM yyyy")," "),t.R7$(3),t.JRh(n.comment),t.R7$(1),t.Y8G("ngIf",!n.approved)}}function y(e,i){if(1&e&&(t.j41(0,"div",8)(1,"p",26),t.EFF(2),t.k0s(),t.j41(3,"div",27)(4,"div",28)(5,"div",29)(6,"p",30),t.EFF(7,"Avis des clients"),t.k0s(),t.j41(8,"span",31),t.EFF(9),t.nI1(10,"number"),t.k0s(),t.j41(11,"div",32)(12,"div",33),t.nrm(13,"span"),t.k0s()(),t.j41(14,"p",34),t.EFF(15),t.k0s()()(),t.j41(16,"ul",35),t.DNE(17,k,8,5,"li",12),t.k0s()(),t.j41(18,"ul",36),t.DNE(19,$,16,11,"li",12),t.k0s()()),2&e){const n=i.ngIf,o=t.XpG();t.R7$(2),t.Lme("",n," avis pour ",o.name,""),t.R7$(7),t.SpI(" ",t.i5U(10,8,o.rate,"1.0-2")," "),t.R7$(4),t.xc7("width",o.rateWidth),t.R7$(2),t.SpI("Bas\xe9 sur ",n," avis"),t.R7$(2),t.Y8G("ngForOf",o.rates),t.R7$(2),t.Y8G("ngForOf",o.ratings)}}function I(e,i){1&e&&t.nrm(0,"span",53)}function G(e,i){if(1&e&&(t.qex(0),t.nrm(1,"label",51),t.DNE(2,I,1,0,"span",52),t.bVm()),2&e){const n=i.$implicit,o=i.last;t.R7$(1),t.ZvI("rate-",n,""),t.Y8G("nzValue",n),t.R7$(1),t.Y8G("ngIf",!o)}}function T(e,i){1&e&&(t.qex(0),t.EFF(1," doit \xeatre rempli(e) "),t.bVm())}function w(e,i){1&e&&(t.qex(0),t.EFF(1," Votre avis doit contenir au moin 10 caract\xe8res ! "),t.bVm())}function N(e,i){if(1&e&&(t.DNE(0,T,2,0,"ng-container",54),t.DNE(1,w,2,0,"ng-container",54)),2&e){const n=i.$implicit;t.Y8G("ngIf",n.hasError("required")),t.R7$(1),t.Y8G("ngIf",n.hasError("minlength"))}}function V(e,i){1&e&&(t.qex(0),t.EFF(1," doit \xeatre rempli(e) "),t.bVm())}function Y(e,i){1&e&&(t.qex(0),t.EFF(1," Veuillez saisir une adresse e-mail valide ! "),t.bVm())}function D(e,i){if(1&e&&(t.DNE(0,V,2,0,"ng-container",54),t.DNE(1,Y,2,0,"ng-container",54)),2&e){const n=i.$implicit;t.Y8G("ngIf",n.hasError("required")),t.R7$(1),t.Y8G("ngIf",n.hasError("email"))}}const X=function(){return{minRows:3,maxRows:5}};let W=(()=>{class e{set productId(n){this.ratings=this.shopService.getShopRatings(n)}constructor(){this.fb=(0,t.WQX)(s.Qk),this.message=(0,t.WQX)(v.xh),this.shopService=(0,t.WQX)(h.s),this._loading=(0,t.vPA)(!1),this.rates=[5,4,3,2,1],this.notes=[1,2,3,4,5],this._rateValidator=n=>n.value?{}:{required:!0},this.ratingForm=this.fb.group({trade:[0,this._rateValidator],username:["",[s.k0.required]],email:["",[s.k0.required,s.k0.email]],comment:["",[s.k0.required,s.k0.minLength(10)]]})}get loading(){return this._loading.asReadonly()}get count(){return this.ratings.length}get rate(){if(this.count){let n=0;return this.ratings.forEach(o=>n+=o.rate),n/this.count}return 0}get rateWidth(){const n=this.rate;return 20*(Math.trunc(n/1)+(n%1>0?1:0))+"%"}noteRate(n){let o=0;return this.ratings.forEach(a=>{a.rate==n&&o++}),o}noteWidth(n){return 20*n+"%"}noteProgress(n){return 100*this.noteRate(n)/this.count+"%"}_isValidForm(){return!this.ratingForm.invalid||(Object.values(this.ratingForm.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))}),!1)}_parseRating(){const n=this.ratingForm.controls;return j.o.withForm(+n.trade.value,n.username.value,n.comment.value)}_postRating(n){this.ratings.push(n),this.ratingForm.reset(),this.message.success("Merci. Votre avis a \xe9t\xe9 ajouter avec succ\xe8s.")}submitForm(){this._isValidForm()&&(this._loading.set(!0),this.shopService.postRating(this._parseRating()).pipe((0,P.s)(1),(0,m.M)(n=>{this._postRating(n)}),(0,M.j)(()=>{this._loading.set(!1)})).subscribe())}static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-shop-rating"]],inputs:{name:"name",productId:["id","productId"]},standalone:!0,features:[t.aNF],decls:45,vars:9,consts:[[1,"shop-rating","py-30","m-t-20"],[1,"f-14","f-600","t-upper"],["class","m-t-20",4,"ngIf"],[1,"m-t-30"],[1,"f-16","f-600"],[1,"f-14","f-500","t-text2","m-t-15"],[1,"t-red"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[1,"m-t-20"],["nzRequired",""],["nzErrorTip","Veuillez choisir une note !"],["formControlName","trade",1,"radios-rating"],[4,"ngFor","ngForOf"],["nzFor","comment","nzRequired",""],[3,"nzErrorTip"],["nz-input","","id","comment","formControlName","comment",3,"nzAutosize"],["commentTmpl",""],[1,"row"],[1,"col","col-12","col-sm-6"],["nzFor","username","nzRequired",""],["nzErrorTip","doit \xeatre rempli(e)"],["nz-input","","id","username","type","text","formControlName","username"],["nzFor","email","nzRequired",""],["nz-input","","id","email","type","text","formControlName","email"],["emailTmpl",""],["nz-button","",1,"btn-default",3,"nzLoading"],[1,"f-13","f-500"],[1,"box-rating","flex1","br-gray3","m-t-20"],[1,"rating","flex2","b-gray3"],[1,"t-center"],[1,"f-14","f-600","t-upper","m-b-5"],[1,"icon","icon-xl","icon-circle","f-22","f-600","b-red","t-white","m-auto"],[1,"rate","rate-bg","my-10"],[1,"stars","m-auto"],[1,"f-13","f-500","t-text2"],[1,"ul-rating","l-none","br-border1"],[1,"ul-ratings","l-none","my-30"],[1,"rate","rate-bg"],[1,"stars"],[1,"progress"],[1,"f-13","f-600","t-text2"],[1,"icon","icon-circle","m-r-20"],[1,"img-fluid-w",3,"src","alt"],[1,"comment"],[1,"flex1"],[1,"rate","rate-bg","m-r-5"],[1,"f-14","f-600"],[1,"f-13","f-500","t-text2","m-l-5"],[1,"f-14","f-500","m-t-10"],["class","t-red t-italic m-t-5",4,"ngIf"],[1,"t-red","t-italic","m-t-5"],["nz-radio-button","",3,"nzValue"],["class","divider",4,"ngIf"],[1,"divider"],[4,"ngIf"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.k0s(),t.DNE(3,y,20,11,"div",2),t.j41(4,"div",3)(5,"p",4),t.EFF(6,"Ajouter un avis"),t.k0s(),t.j41(7,"p",5),t.EFF(8," Votre adresse email ne sera pas publi\xe9e. Les champs obligatoires sont marqu\xe9s "),t.j41(9,"span",6),t.EFF(10,"*"),t.k0s()(),t.j41(11,"form",7),t.bIt("ngSubmit",function(){return a.submitForm()}),t.j41(12,"nz-form-item",8)(13,"nz-form-label",9),t.EFF(14," Votre note "),t.k0s(),t.j41(15,"nz-form-control",10)(16,"nz-radio-group",11),t.DNE(17,G,3,5,"ng-container",12),t.k0s()()(),t.j41(18,"nz-form-item",8)(19,"nz-form-label",13),t.EFF(20," Votre avis "),t.k0s(),t.j41(21,"nz-form-control",14)(22,"textarea",15),t.EFF(23,"                    "),t.k0s(),t.DNE(24,N,2,2,"ng-template",null,16,t.C5r),t.k0s()(),t.j41(26,"div",17)(27,"div",18)(28,"nz-form-item",8)(29,"nz-form-label",19),t.EFF(30," Nom "),t.k0s(),t.j41(31,"nz-form-control",20),t.nrm(32,"input",21),t.k0s()()(),t.j41(33,"div",18)(34,"nz-form-item",8)(35,"nz-form-label",22),t.EFF(36," E-mail "),t.k0s(),t.j41(37,"nz-form-control",14),t.nrm(38,"input",23),t.DNE(39,D,2,2,"ng-template",null,24,t.C5r),t.k0s()()()(),t.j41(41,"nz-form-item",8)(42,"nz-form-control")(43,"button",25),t.EFF(44," Envoyer "),t.k0s()()()()()()),2&o){const c=t.sdS(25),f=t.sdS(40);t.R7$(2),t.SpI("Avis (",a.count,")"),t.R7$(1),t.Y8G("ngIf",a.count),t.R7$(8),t.Y8G("formGroup",a.ratingForm),t.R7$(6),t.Y8G("ngForOf",a.notes),t.R7$(4),t.Y8G("nzErrorTip",c),t.R7$(1),t.Y8G("nzAutosize",t.lJ4(8,X)),t.R7$(15),t.Y8G("nzErrorTip",f),t.R7$(6),t.Y8G("nzLoading",a.loading())}},dependencies:[g.MD,g.Sq,g.bT,g.QX,g.vh,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,p.PQ,x.Uq,x.e,p.CA,p.Ls,p.Mo,p.zS,l.Sw,l.lx,l.fr,l.i3,u.j,u.Sy,u.c9,_.Zw,_.aO,F.c,R.p,v.Sg],styles:['.shop-rating[_ngcontent-%COMP%]{border-top:1px solid var(--bs-border3)}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{padding:25px 30px;width:220px}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]{padding:30px 20px;width:calc(100% - 220px);border-left:none}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{width:84px}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:relative;height:6px;width:calc(100% - 120px);border-radius:8px;overflow:hidden;background:var(--bs-border1)}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:var(--bs-yellow)}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:12px}.shop-rating[_ngcontent-%COMP%]   .ul-ratings[_ngcontent-%COMP%]{padding-bottom:15px}.shop-rating[_ngcontent-%COMP%]   .ul-ratings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.shop-rating[_ngcontent-%COMP%]   .ul-ratings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:64px;height:64px;min-width:64px;overflow:hidden;border:1px solid var(--bs-border1)}.shop-rating[_ngcontent-%COMP%]   .ul-ratings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{padding-top:10px}.shop-rating[_ngcontent-%COMP%]   .ul-ratings[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid var(--bs-border1)}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;overflow:hidden;font-size:14px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{font-family:klbtheme;position:absolute;left:8px;letter-spacing:3px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{color:var(--bs-text2)}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{z-index:5;opacity:0;visibility:hidden;color:var(--bs-yellow);transition:all .25s ease-in-out 0s}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-1[_ngcontent-%COMP%]{width:32px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-1[_ngcontent-%COMP%]:before, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-1[_ngcontent-%COMP%]:after{content:"\\e802"}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-2[_ngcontent-%COMP%]{width:48px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-2[_ngcontent-%COMP%]:before, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-2[_ngcontent-%COMP%]:after{content:"\\e802\\e802"}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-3[_ngcontent-%COMP%]{width:64px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-3[_ngcontent-%COMP%]:before, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-3[_ngcontent-%COMP%]:after{content:"\\e802\\e802\\e802"}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-4[_ngcontent-%COMP%]{width:82px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-4[_ngcontent-%COMP%]:before, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-4[_ngcontent-%COMP%]:after{content:"\\e802\\e802\\e802\\e802"}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-5[_ngcontent-%COMP%]{width:98px}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-5[_ngcontent-%COMP%]:before, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.rate-5[_ngcontent-%COMP%]:after{content:"\\e802\\e802\\e802\\e802\\e802"}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover:after, .shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   label.ant-radio-button-wrapper-checked[_ngcontent-%COMP%]:after{opacity:1;visibility:visible}.shop-rating[_ngcontent-%COMP%]   .radios-rating[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:inline-block;width:1px;height:20px;margin:0 5px;background:var(--bs-border1)}@media (min-width: 992px){.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{width:280px}.shop-rating[_ngcontent-%COMP%]   .box-rating[_ngcontent-%COMP%]   .ul-rating[_ngcontent-%COMP%]{padding:30px;width:calc(100% - 280px)}}'],changeDetection:0})}return e})();var B=r(5400),A=r(1826),L=r(3634);function Q(e,i){if(1&e&&t.nrm(0,"app-product-item",3),2&e){const n=i.$implicit,o=t.XpG();t.Y8G("product",n)("grid",o.grid)}}let J=(()=>{class e{constructor(){this.shopService=(0,t.WQX)(h.s),this.grid=L.qo.G4}set productId(n){this.products=this.shopService.getShopRelated(n)}static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-shop-related"]],inputs:{productId:["id","productId"]},standalone:!0,features:[t.aNF],decls:5,vars:1,consts:[[1,"m-b-30"],[1,"t-subheader","t-center","my-30"],[3,"product","grid",4,"ngFor","ngForOf"],[3,"product","grid"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2,"Vous aimerez peut-\xeatre aussi..."),t.k0s(),t.j41(3,"app-products-container"),t.DNE(4,Q,1,2,"app-product-item",2),t.k0s()()),2&o&&(t.R7$(4),t.Y8G("ngForOf",a.products))},dependencies:[g.MD,g.Sq,A.Z,B.K],encapsulation:2,changeDetection:0})}return e})();var U=r(9120),q=r(6258),Z=r(1200),H=r(9833),K=r(6722);const tt=[{name:"facebook",path:"https://www.facebook.com/"},{name:"twitter",path:"https://twitter.com/"},{name:"pinterest",path:"https://pinterest.com/"},{name:"linkedin",path:"https://www.linkedin.com/"}];function nt(e,i){if(1&e&&(t.j41(0,"div",45)(1,"span",46),t.EFF(2),t.k0s()()),2&e){const n=i.ngIf;t.R7$(2),t.SpI(" ",n,"% ")}}function et(e,i){if(1&e){const n=t.RV6();t.j41(0,"li")(1,"a",47),t.bIt("click",function(){const c=t.eBV(n).$implicit,f=t.XpG(3);return t.Njj(f.preview(c))}),t.nrm(2,"img",6),t.k0s()()}if(2&e){const n=i.$implicit,o=t.XpG(2).ngIf,a=t.XpG();t.R7$(1),t.AVh("active",n==a.image()),t.R7$(1),t.Y8G("src",n,t.B4B)("alt",o.name)}}function ot(e,i){if(1&e&&(t.qex(0),t.DNE(1,et,3,4,"li",42),t.bVm()),2&e){const n=i.ngIf;t.R7$(1),t.Y8G("ngForOf",n)}}function it(e,i){if(1&e&&(t.j41(0,"li")(1,"a",48),t.nrm(2,"img",6),t.k0s()()),2&e){const n=t.XpG().ngIf,o=t.XpG();t.R7$(2),t.Y8G("src",o.image(),t.B4B)("alt",n.name)}}function rt(e,i){if(1&e&&(t.j41(0,"div",49)(1,"div",50),t.nrm(2,"span"),t.k0s(),t.j41(3,"p",51),t.EFF(4),t.k0s()()),2&e){const n=t.XpG().ngIf;t.R7$(2),t.xc7("width",n.rateWidth),t.R7$(2),t.SpI("(",n.rating,")")}}function at(e,i){if(1&e&&(t.j41(0,"del",52),t.nrm(1,"app-price",18),t.k0s()),2&e){const n=i.ngIf;t.R7$(1),t.Y8G("price",n)}}function st(e,i){if(1&e&&(t.j41(0,"label",53),t.nrm(1,"span"),t.k0s()),2&e){const n=i.$implicit;t.Y8G("nzValue",i.index),t.R7$(1),t.xc7("background",n)}}function ct(e,i){1&e&&(t.j41(0,"a",54),t.EFF(1," Liste de souhaits "),t.k0s())}function gt(e,i){if(1&e){const n=t.RV6();t.j41(0,"a",55),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.addWishlist())}),t.EFF(1," Ajouter \xe0 la liste de souhaits "),t.k0s()}}function lt(e,i){if(1&e&&(t.j41(0,"li")(1,"a",56),t.nrm(2,"i"),t.EFF(3),t.k0s()()),2&e){const n=i.$implicit;t.R7$(1),t.ZvI("icon-",n.name,""),t.Y8G("href",n.path,t.B4B),t.R7$(1),t.ZvI("klbth-",n.name,""),t.R7$(1),t.SpI(" ",n.name," ")}}const pt=function(e){return{brand:e}};function dt(e,i){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),t.nrm(5,"img",6),t.DNE(6,nt,3,1,"div",7),t.k0s(),t.j41(7,"ul",8),t.DNE(8,ot,2,1,"ng-container",9),t.DNE(9,it,3,2,"ng-template",null,10,t.C5r),t.k0s()()(),t.j41(11,"div",3)(12,"div",11),t.DNE(13,rt,5,3,"div",12),t.j41(14,"p",13),t.EFF(15),t.k0s(),t.j41(16,"div",14)(17,"p"),t.EFF(18),t.k0s(),t.j41(19,"p",15),t.EFF(20),t.k0s()(),t.j41(21,"div",16),t.DNE(22,at,2,1,"del",17),t.j41(23,"span"),t.nrm(24,"app-price",18),t.k0s()(),t.j41(25,"div")(26,"p",19),t.EFF(27,"Couleur"),t.k0s(),t.j41(28,"nz-radio-group",20),t.bIt("ngModelChange",function(a){t.eBV(n);const c=t.XpG();return t.Njj(c.color=a)}),t.DNE(29,st,2,3,"label",21),t.k0s()(),t.j41(30,"ul",22)(31,"li")(32,"button",23),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.decrement())}),t.nrm(33,"i",24),t.k0s()(),t.j41(34,"li",25),t.EFF(35),t.k0s(),t.j41(36,"li")(37,"button",23),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.increment())}),t.nrm(38,"i",26),t.k0s()(),t.j41(39,"li",27)(40,"button",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.addCart())}),t.EFF(41," + Ajouter au panier "),t.k0s()(),t.j41(42,"li",29)(43,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.saleNow())}),t.EFF(44," Acheter maintenant "),t.k0s()()(),t.j41(45,"div",31),t.DNE(46,ct,2,0,"a",32),t.DNE(47,gt,2,0,"ng-template",null,33,t.C5r),t.k0s(),t.j41(49,"div",34)(50,"p",35),t.EFF(51," Disponibilit\xe9 : "),t.j41(52,"span",36),t.EFF(53,"En stock"),t.k0s()(),t.j41(54,"p",37),t.EFF(55," Sku : "),t.j41(56,"span",38),t.EFF(57),t.k0s()(),t.j41(58,"p",39),t.EFF(59," Marques : "),t.j41(60,"a",40),t.EFF(61),t.k0s()()(),t.j41(62,"ul",41),t.DNE(63,lt,4,8,"li",42),t.k0s()()()(),t.nrm(64,"app-shop-rating",43)(65,"app-shop-related",44),t.bVm()}if(2&e){const n=i.ngIf,o=t.sdS(10),a=t.sdS(48),c=t.XpG();t.R7$(5),t.Y8G("src",c.image(),t.B4B)("alt",n.name),t.R7$(1),t.Y8G("ngIf",n.percent),t.R7$(2),t.Y8G("ngIf",n.images)("ngIfElse",o),t.R7$(5),t.Y8G("ngIf",n.rate),t.R7$(1),t.xc7("line-height",1.2),t.R7$(1),t.JRh(n.name),t.R7$(3),t.JRh(n.line1),t.R7$(2),t.JRh(n.line2),t.R7$(2),t.Y8G("ngIf",n.solde),t.R7$(1),t.AVh("t-red",n.solde)("t-dark",!n.solde),t.R7$(1),t.Y8G("price",n.price),t.R7$(4),t.Y8G("ngModel",c.color),t.R7$(1),t.Y8G("ngForOf",n.colors),t.R7$(6),t.SpI(" ",c.quantity()," "),t.R7$(5),t.Y8G("nzLoading",c.loading()),t.R7$(6),t.Y8G("ngIf",c.inWishlist())("ngIfElse",a),t.R7$(11),t.JRh(n.sku),t.R7$(3),t.Y8G("queryParams",t.eq3(30,pt,n.brand.param)),t.R7$(1),t.SpI(" ",n.brand.name," "),t.R7$(2),t.Y8G("ngForOf",c.socials),t.R7$(1),t.Y8G("id",n.id)("name",n.name),t.R7$(1),t.Y8G("id",n.id)}}let _t=(()=>{class e{constructor(){this.shopService=(0,t.WQX)(h.s),this.cartService=(0,t.WQX)(Z.m),this.whishlistService=(0,t.WQX)(H.F),this.recentService=(0,t.WQX)(K.T),this.modalService=(0,t.WQX)(b.N_),this.route=(0,t.WQX)(d.nX),this.router=(0,t.WQX)(d.Ix),this.title=(0,t.WQX)(E.hE),this._product=(0,t.vPA)(void 0),this._loading=(0,t.vPA)(!1),this._image=(0,t.vPA)(""),this._quantity=(0,t.vPA)(1),this.socials=tt,this.color=0}get product(){return this._product.asReadonly()}get loading(){return this._loading.asReadonly()}get image(){return this._image.asReadonly()}get quantity(){return this._quantity.asReadonly()}get inWishlist(){return this.whishlistService.exists(this._product().id)}ngOnInit(){this.route.params.pipe((0,m.M)(n=>{this._product.set(void 0),this._fetchProduct(n.path)})).subscribe()}_fetchProduct(n){const o=this.shopService.getProductSingle(n);o?(this._product.set(o),this.title.setTitle(`${o.name} - GoStore Electronics`),this._loadProduct()):this.router.navigateByUrl("/404")}_loadProduct(){const n=this._product();this._image.set(n.image),this.recentService.storeRecent(n)}preview(n){this._image()!==n&&this._image.set(n)}addWishlist(){this.whishlistService.add(this._product().id),this.modalService.create({nzTitle:"",nzFooter:null,nzWidth:"320px",nzStyle:{top:"100px"},nzData:this._product().name,nzContent:U.S})}increment(){this._loading()||this._quantity()==this._product().available||this._quantity.update(n=>n+1)}decrement(){this._loading()||1==this._quantity()||this._quantity.update(n=>n-1)}addCart(){this._loading()||(this._loading.set(!0),this.cartService.add(this._product(),this._quantity()).pipe((0,P.s)(1),(0,m.M)(()=>{this.modalService.create({nzTitle:"",nzFooter:null,nzWidth:"320px",nzStyle:{top:"100px"},nzData:this._product().name,nzContent:q.N})}),(0,M.j)(()=>{this._loading.set(!1)})).subscribe())}saleNow(){this.cartService.add(this._product()),this.router.navigateByUrl("/guest/checkout")}static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-page-product"]],standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],[1,"row","py-30"],[1,"col","col-12","col-lg-6"],[1,"thumbnails"],[1,"thumbnail","br-border1","p-30"],[1,"img-fluid-w",3,"src","alt"],["class","badges",4,"ngIf"],[1,"flex1","flex-center","l-none"],[4,"ngIf","ngIfElse"],["imageTmpl",""],[1,"content","m-t-20"],["class","rate rate-bg",4,"ngIf"],[1,"f-24","f-600","m-t-20"],[1,"f-13","f-500","t-text2","t-italic","m-t-20"],[1,"m-t-5"],[1,"f-24","f-500","t-trunc","my-20"],["class","t-text2 tf-75 m-r-10",4,"ngIf"],[3,"price"],[1,"f-13","f-600","t-upper","m-b-10"],[1,"radios-color",3,"ngModel","ngModelChange"],["nz-radio-button","",3,"nzValue",4,"ngFor","ngForOf"],[1,"ul-actions","flex1","l-none","m-t-20"],["nz-button","","nzSize","large",1,"btn-xs","btn-gray",3,"click"],[1,"klbth-minus"],[1,"f-13","f-500","t-center","br-border3"],[1,"klbth-plus"],[1,"m-l-10"],["nz-button","","nzSize","large",1,"btn-md","btn-black",3,"nzLoading","click"],[1,"hidden-sm-down","m-l-10"],["nz-button","","nzSize","large",1,"btn-md","btn-default",3,"click"],[1,"m-t-15"],["class","lien-wishlist active","routerLink","/guest/wishlist","nz-tooltip","","nzTooltipTitle","Produit ajout\xe9 !","nzTooltipPlacement","bottomRight",4,"ngIf","ngIfElse"],["wishlistTmpl",""],[1,"caption"],[1,"f-14","f-500"],[1,"t-green","m-l-5"],[1,"f-14","f-500","t-upper","m-t-15"],[1,"t-text2","m-l-5"],[1,"f-14","f-500","m-t-15"],["routerLink","/shop",1,"lien2","m-l-5",3,"queryParams"],[1,"ul-shared","flex1","l-none","m-t-20"],[4,"ngFor","ngForOf"],[3,"id","name"],[3,"id"],[1,"badges"],[1,"f-14","f-500","t-upper","t-white"],[1,"icon",3,"click"],[1,"icon","active"],[1,"rate","rate-bg"],[1,"stars"],[1,"f-12","f-500","t-text2"],[1,"t-text2","tf-75","m-r-10"],["nz-radio-button","",3,"nzValue"],["routerLink","/guest/wishlist","nz-tooltip","","nzTooltipTitle","Produit ajout\xe9 !","nzTooltipPlacement","bottomRight",1,"lien-wishlist","active"],[1,"lien-wishlist",3,"click"],["target","_blank",3,"href"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.DNE(1,dt,66,32,"ng-container",1),t.k0s()),2&o&&(t.R7$(1),t.Y8G("ngIf",a.product()))},dependencies:[d.iI,d.Wk,g.MD,g.Sq,g.bT,s.YN,s.BC,s.vS,l.Sw,l.lx,l.fr,l.i3,_.Zw,_.aO,F.c,R.p,O.Qt,O.LH,b.U6,z.F,W,J],styles:['.thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{position:relative;min-height:100px}.thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:inline-flex;position:absolute;top:15px;left:15px;z-index:10}.thumbnails[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;padding:6px 12px;border-radius:15px;background:var(--bs-red)}.thumbnails[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:5px -5px;justify-content:center}.thumbnails[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:20%;padding:5px 5px 0}.thumbnails[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--bs-text2);border:1px solid var(--bs-border1);transition:border-color .25s ease-in-out 0s}.thumbnails[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{border-color:var(--bs-border3)}.thumbnails[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%]{border-color:var(--bs-text1)}.content[_ngcontent-%COMP%]   .radios-color[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:30px;height:30px;padding:2px;border-radius:3px;border:1px solid var(--bs-border1);transition:border-color .25s ease-in-out 0s}.content[_ngcontent-%COMP%]   .radios-color[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:24px;height:24px;border-radius:3px}.content[_ngcontent-%COMP%]   .radios-color[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{border-color:var(--bs-red)}.content[_ngcontent-%COMP%]   .radios-color[_ngcontent-%COMP%]   label.ant-radio-button-wrapper-checked[_ngcontent-%COMP%]{border-color:var(--bs-text1)}.content[_ngcontent-%COMP%]   .radios-color[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{margin-left:5px}.content[_ngcontent-%COMP%]   .ul-actions[_ngcontent-%COMP%]   .br-border3[_ngcontent-%COMP%]{height:38px;line-height:36px;padding:0 3px;min-width:50px;border-left:none;border-right:none}.content[_ngcontent-%COMP%]   .lien-wishlist[_ngcontent-%COMP%]{color:var(--bs-text2)}.content[_ngcontent-%COMP%]   .lien-wishlist[_ngcontent-%COMP%]:hover{color:var(--bs-text1)}.content[_ngcontent-%COMP%]   .lien-wishlist[_ngcontent-%COMP%]:before{display:inline-block;font-family:klbtheme;content:"\\e801";margin-right:5px}.content[_ngcontent-%COMP%]   .lien-wishlist.active[_ngcontent-%COMP%]{color:var(--bs-red)}.content[_ngcontent-%COMP%]   .lien-wishlist.active[_ngcontent-%COMP%]:hover{text-decoration:underline}.content[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{margin-top:25px;padding-top:25px;border-top:1px solid var(--bs-border1)}.content[_ngcontent-%COMP%]   .ul-shared[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:8px 12px;font-size:13px;font-weight:500;color:var(--bs-white)}.content[_ngcontent-%COMP%]   .ul-shared[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;line-height:13px;margin-right:4px}.content[_ngcontent-%COMP%]   .ul-shared[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:4px}'],changeDetection:0})}return e})()}}]);